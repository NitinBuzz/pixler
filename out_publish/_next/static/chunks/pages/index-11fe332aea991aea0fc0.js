_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var a=n("nKUr"),s=n("q1tI"),c=n.n(s),r=n("VUkf"),i=function(){var e=Object(r.b)(),t=e.state,n=e.actions,c=Object(s.useState)(),i=c[0],l=c[1];return Object(a.jsxs)(a.Fragment,{children:[" ",t.isUnsplash?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("label",{htmlFor:"url_field",children:"Link or Unsplash Image ID"}),Object(a.jsx)("input",{type:"text",id:"url_field",className:"nes-input",placeholder:"Place an unsplash link or id",onChange:function(e){return n.setLink(e.target.value)},value:t.imageLink})]}):null,t.isFileUpload?Object(a.jsx)(a.Fragment,{children:i?Object(a.jsxs)("div",{className:"flex items-center justify-between",children:[Object(a.jsx)("span",{className:"nes-text is-success",children:i}),Object(a.jsx)("button",{className:"nes-btn is-error",onClick:function(){n.deleteUploadedFile(),l(null)},children:Object(a.jsx)("i",{className:"nes-icon close is-small"})})]}):Object(a.jsxs)("label",{className:"nes-btn",children:[Object(a.jsx)("span",{children:"Select your file"}),Object(a.jsx)("input",{accept:"image/*",type:"file",onChange:function(e){n.fileUpload(e),l(e.target.files[0].name)}})]})}):null,t.isURL?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("label",{htmlFor:"url_field",children:"Image Link"}),Object(a.jsx)("input",{type:"text",id:"url_field",className:"nes-input",placeholder:"Place an image link",onChange:function(e){return n.setLink(e.target.value)},value:t.imageLink})]}):null]})},l=function(e){var t=e.value,n=e.onChange,c=e.canvas,i=e.min,l=void 0===i?0:i,o=e.max,u=void 0===o?100:o,d=e.step,b=void 0===d?1:d,m=e.minText,j=void 0===m?l:m,h=e.maxText,p=void 0===h?u:h,x=e.label,v=Object(r.b)(),f=v.actions,g=v.state,O=Object(s.useState)(t),w=O[0],y=O[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("label",{htmlFor:"hue_field",children:x}),Object(a.jsxs)("div",{className:"flex items-center mb-3",children:[Object(a.jsx)("span",{className:"mr-2",children:j}),Object(a.jsx)("input",{type:"range",id:"hue_field",className:"nes-range is-green",min:l,max:u,step:b,value:w.toString(),onChange:function(e){return y(e.target.value)},onInput:function(){n(w),g.activeImage&&f.pixelImage({canvas:c})}}),Object(a.jsx)("span",{className:"ml-2",children:p})]})]})},o=function(e){var t=e.canvas,n=Object(r.b)(),c=n.state,o=n.actions,u=Object(s.useState)(!1),d=u[0],b=u[1];return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.getAndPixelateImage({canvas:t})},children:[Object(a.jsxs)("div",{className:"nes-field mb-3",children:[Object(a.jsx)("nav",{className:"mb-3",children:c.tabs.map((function(e){return Object(a.jsx)("button",{type:"button",onClick:function(){return o.setTab(e)},className:"nes-btn mr-2 ".concat(c.activeTab===e?"is-primary":null),children:e},e)}))}),Object(a.jsx)(i,{})]}),Object(a.jsxs)("div",{className:"nes-field mb-3",children:[Object(a.jsx)("label",{htmlFor:"size_field",children:"Pixel Size"}),Object(a.jsx)("input",{type:"number",id:"size_field",className:"nes-input",value:c.scale,onChange:function(e){o.setScale(e.target.value),c.activeImage&&o.pixelImage({canvas:t})}})]}),Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",className:"nes-checkbox",checked:c.grayscale,onChange:function(){o.toggleGrayscale(),c.activeImage&&o.pixelImage({canvas:t})}}),Object(a.jsx)("span",{children:"Grayscale"})]})}),Object(a.jsx)("div",{className:"mb-3",children:Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",className:"nes-checkbox",checked:c.sepia,onChange:function(){o.toggleSepia(),c.activeImage&&o.pixelImage({canvas:t})}}),Object(a.jsx)("span",{children:"Sepia"})]})}),Object(a.jsxs)("div",{className:"mb-6",children:[Object(a.jsx)("button",{type:"button",className:"advanced-button ".concat(d?"open":null),onClick:function(){return b(!d)},children:"Advanced Settings"}),d?Object(a.jsxs)("section",{className:"mt-3 grid gap-3 grid-cols-2",children:[Object(a.jsx)(l,{maxText:360,min:0,max:100,value:c.hue,canvas:t,label:"Hue Shift",onChange:function(e){o.setValue({name:"hue",value:e})}}),Object(a.jsx)(l,{min:-100,max:100,value:c.exposure,canvas:t,label:"Exposure",onChange:function(e){o.setValue({name:"exposure",value:e})}}),Object(a.jsx)(l,{min:0,max:4,step:.1,value:c.gamma,canvas:t,label:"Gamma",onChange:function(e){o.setValue({name:"gamma",value:e})}}),Object(a.jsx)(l,{min:0,max:100,value:c.noise,canvas:t,label:"Noise",onChange:function(e){o.setValue({name:"noise",value:e})}}),Object(a.jsx)(l,{min:-100,max:100,value:c.saturation,canvas:t,label:"Saturation",onChange:function(e){o.setValue({name:"saturation",value:e})}}),Object(a.jsx)(l,{min:-100,max:100,value:c.vibrance,canvas:t,label:"Vibrance",onChange:function(e){o.setValue({name:"vibrance",value:e})}}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",className:"nes-checkbox",checked:c.invert,onChange:function(){o.toggleInvert(),c.activeImage&&o.pixelImage({canvas:t})}}),Object(a.jsx)("span",{children:"Invert Colors"})]})]}):null]}),Object(a.jsx)("button",{type:"submit",className:"nes-btn ".concat(c.isButtonDisabled?"is-disabled":"is-primary"),disabled:c.isButtonDisabled,children:"Pixel It"})]})};const u=({flip:e})=>{const t={width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:e?"rotate(180deg)":void 0};return c.a.createElement("div",{style:t})},d=({portrait:e,buttonStyle:t,linesStyle:n,style:a,...s})=>{const r={display:"flex",flexDirection:e?"row":"column",placeItems:"center",height:"100%",cursor:e?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...a},i={flexGrow:1,height:e?2:"100%",width:e?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 7px rgba(0,0,0,.35)",...n},l={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",boxShadow:"0 0 7px rgba(0,0,0,.35)",transform:e?"rotate(90deg)":void 0,...t};return c.a.createElement("div",Object.assign({className:"__rcs-handle-root"},s,{style:r}),c.a.createElement("div",{className:"__rcs-handle-line",style:i}),c.a.createElement("div",{className:"__rcs-handle-button",style:l},c.a.createElement(u,null),c.a.createElement(u,{flip:!0})),c.a.createElement("div",{className:"__rcs-handle-line",style:i}))},b=(e,t,n,a)=>{const c=Object(s.useRef)();Object(s.useEffect)((()=>{c.current=t}),[t]),Object(s.useEffect)((()=>{if(!n||!n.addEventListener)return;const t=e=>c.current&&c.current(e);return n.addEventListener(e,t,a),()=>{n.removeEventListener(e,t,a)}}),[e,n,a])},m="undefined"!==typeof window&&window.document&&window.document.createElement?s.useLayoutEffect:s.useEffect,j=Object(s.forwardRef)(((e,t)=>c.a.createElement("div",Object.assign({},e,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",willChange:"clip",userSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},"data-rcs":"clip-item",ref:t}))));j.displayName="ThisClipContainer";const h=Object(s.forwardRef)((({children:e,portrait:t},n)=>{const a={position:"absolute",width:t?"100%":void 0,height:t?void 0:"100%",transform:t?"translateY(-50%)":"translateX(-50%)",pointerEvents:"all"};return c.a.createElement("div",{style:{position:"absolute",top:0,width:"100%",height:"100%",pointerEvents:"none"},"data-rcs":"handle-container",ref:n},c.a.createElement("div",{style:a},e))}));h.displayName="ThisHandleContainer";const p={passive:!0},x={capture:!0,passive:!1},v=({handle:e,itemOne:t,itemTwo:n,onlyHandleDraggable:a=!1,onPositionChange:r,portrait:i=!1,position:l=50,boundsPadding:o=0,style:u,...v})=>{const f=Object(s.useRef)(null),g=Object(s.useRef)(null),O=Object(s.useRef)(null),w=Object(s.useRef)(l),y=(e=>{const t=Object(s.useRef)(e);return Object(s.useEffect)((()=>{t.current=e})),t.current})(l),[N,E]=Object(s.useState)(!1),k=Object(s.useRef)(!1),[C,S]=Object(s.useState)();Object(s.useEffect)((()=>{S(a?O.current:f.current)}),[a]);const _=Object(s.useCallback)((function({x:e,y:t,isOffset:n,portrait:a,boundsPadding:s}){const{top:c,left:i,width:l,height:o}=f.current.getBoundingClientRect();if(0===l||0===o)return;const u=Math.min(Math.max(a?n?t-c-window.pageYOffset:t:n?e-i-window.pageXOffset:e,0),a?o:l),d=u/(a?o:l)*100,b=a?0===u||u===o:0===u||u===l;if(d===w.current&&(0===w.current||100===w.current)&&b)return;w.current=d;const m=Math.min(Math.max(u,0+s),(a?o:l)-s);g.current.style.clip=a?`rect(auto,auto,${m}px,auto)`:`rect(auto,${m}px,auto,auto)`,O.current.style.transform=a?`translate3d(0,${m}px,0)`:`translate3d(${m}px,0,0)`,r&&r(w.current)}),[r]);Object(s.useEffect)((()=>{const{width:e,height:t}=f.current.getBoundingClientRect(),n=l===y?w.current:l;_({portrait:i,boundsPadding:o,x:e/100*n,y:t/100*n})}),[i,l,y,o,_]);const I=Object(s.useCallback)((e=>{e.preventDefault(),_({portrait:i,boundsPadding:o,isOffset:!0,x:e instanceof MouseEvent?e.pageX:e.touches[0].pageX,y:e instanceof MouseEvent?e.pageY:e.touches[0].pageY}),E(!0)}),[i,o,_]),R=Object(s.useCallback)((function(e){_({portrait:i,boundsPadding:o,isOffset:!0,x:e instanceof MouseEvent?e.pageX:e.touches[0].pageX,y:e instanceof MouseEvent?e.pageY:e.touches[0].pageY})}),[i,o,_]),L=Object(s.useCallback)((()=>{E(!1)}),[]),U=Object(s.useCallback)((({width:e,height:t})=>{_({portrait:i,boundsPadding:o,x:e/100*w.current,y:t/100*w.current})}),[i,o,_]);Object(s.useEffect)((()=>(N&&!k.current&&(window.addEventListener("mousemove",R,p),window.addEventListener("mouseup",L,p),window.addEventListener("touchmove",R,p),window.addEventListener("touchend",L,p),k.current=!0),()=>{k.current&&(window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",L),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",L),k.current=!1)})),[R,L,N]),((e,t)=>{const n=Object(s.useRef)(),a=Object(s.useCallback)((()=>{e.current&&n.current&&n.current.observe(e.current)}),[e]);m((()=>(n.current=new ResizeObserver((([e])=>t(e.contentRect))),a(),()=>{n.current&&n.current.disconnect()})),[t,a])})(f,U),b("mousedown",I,C,x),b("touchstart",I,C,x);const P=e||c.a.createElement(d,{portrait:i}),F={position:"relative",overflow:"hidden",cursor:N?i?"ns-resize":"ew-resize":void 0,userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...u};return c.a.createElement("div",Object.assign({},v,{ref:f,style:F,"data-rcs":"root"}),n,c.a.createElement(j,{ref:g},t),c.a.createElement(h,{portrait:i,ref:O},P))};var f=function(e){var t=e.canvas,n=Object(r.b)().state;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"mb-6",style:{display:n.activeImage?"block":"none"},children:Object(a.jsx)(v,{handle:Object(a.jsx)(d,{buttonStyle:{backdropFilter:"none",border:0,boxShadow:"none",":after":{content:"sup"}},linesStyle:{background:"black",width:4}}),position:20,itemOne:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:n.activeImage,style:{display:"none"}}),n.isUnsplash&&n.unsplashData?Object(a.jsx)("img",{src:n.unsplashData.urls.regular,alt:"",style:{height:"100%"}}):Object(a.jsx)("img",{src:n.activeImage,style:{height:"100%"}})]}),itemTwo:Object(a.jsx)("canvas",{style:{width:"100%",height:"100%"},ref:t})})}),n.isUnsplash&&n.unsplashData?Object(a.jsxs)("p",{children:["Photo by"," ",Object(a.jsx)("a",{href:"https://unsplash.com/@".concat(n.unsplashData.user.username,"?utm_source=pixelr&utm_medium=referral"),children:n.unsplashData.user.name})," ","on"," ",Object(a.jsx)("a",{href:"https://unsplash.com/?utm_source=pixelr&utm_medium=referral",children:"Unsplash"})]}):null]})};function g(){var e=Object(r.b)(),t=e.state,n=e.effects,c=Object(s.useRef)();return Object(a.jsxs)("div",{className:"bg-gray-100",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("img",{src:"/logo.svg",alt:"Pixelr Logo"}),Object(a.jsxs)("h1",{className:"nes-text is-primary",children:["Pix",Object(a.jsx)("span",{style:{color:"#92cc41"},children:"lr"})]})]}),Object(a.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 pt-10 pb-10",children:Object(a.jsxs)("div",{className:"nes-container is-rounded bg-white  ",children:[Object(a.jsx)("div",{className:"py-5 ".concat(t.activeImage?"divider":null),children:Object(a.jsx)(o,{canvas:c})}),Object(a.jsxs)("div",{className:" py-5",children:[Object(a.jsx)(f,{canvas:c}),t.activeImage&&Object(a.jsx)("button",{className:"nes-btn ",onClick:function(){return n.browser.download(c.current)},children:"Download"}),t.error&&Object(a.jsx)("div",{className:"nes-balloon from-left",id:"error-dialog",children:Object(a.jsx)("p",{className:"nes-text is-error",children:"There has been a problem creating your image"})})]})]})}),Object(a.jsx)("footer",{className:"flex items-center justify-center mb-6",children:Object(a.jsx)("a",{href:"https://github.com/SaraVieira/pixel-splash",children:Object(a.jsx)("i",{className:"nes-octocat is-medium"})})})]})}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,2,1,3]]]);